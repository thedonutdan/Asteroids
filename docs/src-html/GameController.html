<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Source code</title>
<meta name="description" content="source: class: GameController">
<meta name="generator" content="javadoc/SourceToHTMLConverter">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body class="source">
<main role="main">
<div class="sourceContainer">
<pre><span class="sourceLineNo">001</span><a id="line.1">import javax.swing.JComponent;</a>
<span class="sourceLineNo">002</span><a id="line.2">import javax.swing.SwingUtilities;</a>
<span class="sourceLineNo">003</span><a id="line.3">import javax.swing.ImageIcon;</a>
<span class="sourceLineNo">004</span><a id="line.4"></a>
<span class="sourceLineNo">005</span><a id="line.5">import java.awt.Graphics;</a>
<span class="sourceLineNo">006</span><a id="line.6">import java.awt.Graphics2D;</a>
<span class="sourceLineNo">007</span><a id="line.7"></a>
<span class="sourceLineNo">008</span><a id="line.8">import java.awt.image.BufferedImage;</a>
<span class="sourceLineNo">009</span><a id="line.9">import java.awt.Image;</a>
<span class="sourceLineNo">010</span><a id="line.10">import java.awt.Color;</a>
<span class="sourceLineNo">011</span><a id="line.11"></a>
<span class="sourceLineNo">012</span><a id="line.12">import java.awt.event.ActionListener;</a>
<span class="sourceLineNo">013</span><a id="line.13">import java.awt.event.ActionEvent;</a>
<span class="sourceLineNo">014</span><a id="line.14"></a>
<span class="sourceLineNo">015</span><a id="line.15">import java.io.IOException;</a>
<span class="sourceLineNo">016</span><a id="line.16">import java.io.File;</a>
<span class="sourceLineNo">017</span><a id="line.17">import java.io.PrintWriter;</a>
<span class="sourceLineNo">018</span><a id="line.18">import java.io.IOException;</a>
<span class="sourceLineNo">019</span><a id="line.19"></a>
<span class="sourceLineNo">020</span><a id="line.20">import javax.imageio.ImageIO;</a>
<span class="sourceLineNo">021</span><a id="line.21"></a>
<span class="sourceLineNo">022</span><a id="line.22">import java.util.Timer;</a>
<span class="sourceLineNo">023</span><a id="line.23">import java.util.TimerTask;</a>
<span class="sourceLineNo">024</span><a id="line.24">import java.util.ArrayList;</a>
<span class="sourceLineNo">025</span><a id="line.25">import java.util.Scanner;</a>
<span class="sourceLineNo">026</span><a id="line.26"></a>
<span class="sourceLineNo">027</span><a id="line.27">import java.lang.Math;</a>
<span class="sourceLineNo">028</span><a id="line.28">/** GameController.java - A class to control flow of asteroids game</a>
<span class="sourceLineNo">029</span><a id="line.29">* This class features PolyMorphism in storing parent and child classes in same arraylists </a>
<span class="sourceLineNo">030</span><a id="line.30">* and calling inherited methods per requirement b in project specifications</a>
<span class="sourceLineNo">031</span><a id="line.31">* this class also features text file I/O to retrieve and record high scores per requirement</a>
<span class="sourceLineNo">032</span><a id="line.32">* c. in project specifications</a>
<span class="sourceLineNo">033</span><a id="line.33">* </a>
<span class="sourceLineNo">034</span><a id="line.34">* @author Daniel Andrews</a>
<span class="sourceLineNo">035</span><a id="line.35">* @version Final Project</a>
<span class="sourceLineNo">036</span><a id="line.36">*/</a>
<span class="sourceLineNo">037</span><a id="line.37">public class GameController {</a>
<span class="sourceLineNo">038</span><a id="line.38">        BufferedImage playerImage, // Declare variables to hold game sprites</a>
<span class="sourceLineNo">039</span><a id="line.39">                                  bulletImage,</a>
<span class="sourceLineNo">040</span><a id="line.40">                                  bigAsteroidImage,</a>
<span class="sourceLineNo">041</span><a id="line.41">                                  mediumAsteroidImage,</a>
<span class="sourceLineNo">042</span><a id="line.42">                                  smallAsteroidImage;</a>
<span class="sourceLineNo">043</span><a id="line.43">        Image playerDestroyedImage, // Declare variables to hold game sprite animations</a>
<span class="sourceLineNo">044</span><a id="line.44">                  asteroidDestroyedImage,</a>
<span class="sourceLineNo">045</span><a id="line.45">                  alienAnimation;</a>
<span class="sourceLineNo">046</span><a id="line.46">        ImageIcon startButtonImage, // Declare variables to hold menu button images</a>
<span class="sourceLineNo">047</span><a id="line.47">                          exitButtonImage;</a>
<span class="sourceLineNo">048</span><a id="line.48"></a>
<span class="sourceLineNo">049</span><a id="line.49">        private GameFrame gameFrame; // Declare variable to give Controller access to frame</a>
<span class="sourceLineNo">050</span><a id="line.50">        private ArrayList&lt;Bullet&gt; bullets; // Declare arraylists to hold game elements</a>
<span class="sourceLineNo">051</span><a id="line.51">        private ArrayList&lt;BigAsteroid&gt; asteroids;</a>
<span class="sourceLineNo">052</span><a id="line.52">        private ArrayList&lt;Alien&gt; aliens;</a>
<span class="sourceLineNo">053</span><a id="line.53">        private ArrayList&lt;Bullet&gt; alienBullets;</a>
<span class="sourceLineNo">054</span><a id="line.54">        private ArrayList&lt;GamePiece&gt; cleanup; // Arraylist to hold items to be removed from game after frame</a>
<span class="sourceLineNo">055</span><a id="line.55">                                                                                  // cleanup uses Polymorphism as all game objects are descendants</a>
<span class="sourceLineNo">056</span><a id="line.56">                                                                                  // of GamePiece and can be treated as the same data type</a>
<span class="sourceLineNo">057</span><a id="line.57">        private ArrayList&lt;BigAsteroid&gt; newAsteroids; // Arraylist to hold items to be added to game after frame</a>
<span class="sourceLineNo">058</span><a id="line.58">                                                                                                 // newAsteroids uses Polymorphism as all asteroids are descendants</a>
<span class="sourceLineNo">059</span><a id="line.59">                                                                                                 // of BigAsteroid and can be treated as the same data type</a>
<span class="sourceLineNo">060</span><a id="line.60">        private Player player; // Player object</a>
<span class="sourceLineNo">061</span><a id="line.61"></a>
<span class="sourceLineNo">062</span><a id="line.62">        private int score, // Declare variables to hold current score, lives, and highscore</a>
<span class="sourceLineNo">063</span><a id="line.63">                                lives,</a>
<span class="sourceLineNo">064</span><a id="line.64">                                highscore;</a>
<span class="sourceLineNo">065</span><a id="line.65"></a>
<span class="sourceLineNo">066</span><a id="line.66">        private Timer gameTimer; // Declare timer to control game objects</a>
<span class="sourceLineNo">067</span><a id="line.67"></a>
<span class="sourceLineNo">068</span><a id="line.68">        private boolean gameOver = false; // Game is not over yet</a>
<span class="sourceLineNo">069</span><a id="line.69"></a>
<span class="sourceLineNo">070</span><a id="line.70">        private javax.swing.Timer asteroidTimer; // Swing timer to periodically add new asteroids</a>
<span class="sourceLineNo">071</span><a id="line.71">        javax.swing.Timer alienTimer;</a>
<span class="sourceLineNo">072</span><a id="line.72"></a>
<span class="sourceLineNo">073</span><a id="line.73">        /** Constructor initializes arraylists to hold game objects, as well as score and lives</a>
<span class="sourceLineNo">074</span><a id="line.74">        */</a>
<span class="sourceLineNo">075</span><a id="line.75">        public GameController() {</a>
<span class="sourceLineNo">076</span><a id="line.76">                bullets = new ArrayList&lt;Bullet&gt;(); // On-screen bullets</a>
<span class="sourceLineNo">077</span><a id="line.77">                asteroids = new ArrayList&lt;BigAsteroid&gt;(); // On-screen asteroids</a>
<span class="sourceLineNo">078</span><a id="line.78">                aliens = new ArrayList&lt;Alien&gt;(); // On-screen aliens</a>
<span class="sourceLineNo">079</span><a id="line.79">                alienBullets = new ArrayList&lt;Bullet&gt;();</a>
<span class="sourceLineNo">080</span><a id="line.80">                newAsteroids = new ArrayList&lt;BigAsteroid&gt;(); // Asteroids to be added to screen</a>
<span class="sourceLineNo">081</span><a id="line.81">                cleanup = new ArrayList&lt;GamePiece&gt;(); // Game elements to be removed from screen</a>
<span class="sourceLineNo">082</span><a id="line.82">                score = 0; // Score should start at zero</a>
<span class="sourceLineNo">083</span><a id="line.83">                lives = 3; // Lives should start at three</a>
<span class="sourceLineNo">084</span><a id="line.84">        }</a>
<span class="sourceLineNo">085</span><a id="line.85"></a>
<span class="sourceLineNo">086</span><a id="line.86">        /** Load images for game object sprites</a>
<span class="sourceLineNo">087</span><a id="line.87">        * @Throws an IOException if any images are absent</a>
<span class="sourceLineNo">088</span><a id="line.88">        */</a>
<span class="sourceLineNo">089</span><a id="line.89">        public void loadImages() throws IOException {</a>
<span class="sourceLineNo">090</span><a id="line.90">                playerImage = ImageIO.read(new File("images/playertransparent.png"));</a>
<span class="sourceLineNo">091</span><a id="line.91">                bulletImage = ImageIO.read(new File("images/bullet.png"));</a>
<span class="sourceLineNo">092</span><a id="line.92">                bigAsteroidImage = ImageIO.read(new File("images/bigasteroidtransparent.png"));</a>
<span class="sourceLineNo">093</span><a id="line.93">                mediumAsteroidImage = ImageIO.read(new File("images/mediumasteroidtransparent.png"));</a>
<span class="sourceLineNo">094</span><a id="line.94">                smallAsteroidImage = ImageIO.read(new File("images/smallasteroidtransparent.png"));</a>
<span class="sourceLineNo">095</span><a id="line.95">                startButtonImage = new ImageIcon("images/startbuttonimage.png");</a>
<span class="sourceLineNo">096</span><a id="line.96">                exitButtonImage = new ImageIcon("images/exitbuttonimage.png");</a>
<span class="sourceLineNo">097</span><a id="line.97">                playerDestroyedImage = new ImageIcon("images/explosion.gif").getImage();</a>
<span class="sourceLineNo">098</span><a id="line.98">                asteroidDestroyedImage = new ImageIcon("images/asteroiddestroy.gif").getImage();</a>
<span class="sourceLineNo">099</span><a id="line.99">                alienAnimation = new ImageIcon("images/alienanimation.gif").getImage();</a>
<span class="sourceLineNo">100</span><a id="line.100">        }</a>
<span class="sourceLineNo">101</span><a id="line.101"></a>
<span class="sourceLineNo">102</span><a id="line.102">        /** Load current highscore from file</a>
<span class="sourceLineNo">103</span><a id="line.103">        * @Throws IOException if no file is present</a>
<span class="sourceLineNo">104</span><a id="line.104">        * This method implements text file I/O</a>
<span class="sourceLineNo">105</span><a id="line.105">        * Known exploit: Text file is unsecure and easy to edit</a>
<span class="sourceLineNo">106</span><a id="line.106">        */</a>
<span class="sourceLineNo">107</span><a id="line.107">        public void loadHighscore() throws IOException {</a>
<span class="sourceLineNo">108</span><a id="line.108">                Scanner in = new Scanner(new File("highscore.txt")); // Scanner to read text file</a>
<span class="sourceLineNo">109</span><a id="line.109">                if (in.hasNextInt()) {</a>
<span class="sourceLineNo">110</span><a id="line.110">                        highscore = in.nextInt(); // Set highscore to that in file</a>
<span class="sourceLineNo">111</span><a id="line.111">                } else {</a>
<span class="sourceLineNo">112</span><a id="line.112">                        highscore = 0; // If file is empty, easy mode</a>
<span class="sourceLineNo">113</span><a id="line.113">                }</a>
<span class="sourceLineNo">114</span><a id="line.114">                in.close(); // Close input file when done</a>
<span class="sourceLineNo">115</span><a id="line.115">        }</a>
<span class="sourceLineNo">116</span><a id="line.116"></a>
<span class="sourceLineNo">117</span><a id="line.117">        /** Return current highscore</a>
<span class="sourceLineNo">118</span><a id="line.118">        * @return Highscore </a>
<span class="sourceLineNo">119</span><a id="line.119">        */</a>
<span class="sourceLineNo">120</span><a id="line.120">        public int getHighscore() {</a>
<span class="sourceLineNo">121</span><a id="line.121">                return highscore;</a>
<span class="sourceLineNo">122</span><a id="line.122">        }</a>
<span class="sourceLineNo">123</span><a id="line.123"></a>
<span class="sourceLineNo">124</span><a id="line.124">        /** Returns player sprite</a>
<span class="sourceLineNo">125</span><a id="line.125">        * @return Player sprite</a>
<span class="sourceLineNo">126</span><a id="line.126">        */</a>
<span class="sourceLineNo">127</span><a id="line.127">        public BufferedImage getPlayerImage() {</a>
<span class="sourceLineNo">128</span><a id="line.128">                return playerImage;</a>
<span class="sourceLineNo">129</span><a id="line.129">        }</a>
<span class="sourceLineNo">130</span><a id="line.130"></a>
<span class="sourceLineNo">131</span><a id="line.131">        /** Returns player destroyed animation</a>
<span class="sourceLineNo">132</span><a id="line.132">        * @return Player destroyed animation</a>
<span class="sourceLineNo">133</span><a id="line.133">        */</a>
<span class="sourceLineNo">134</span><a id="line.134">        public Image getPlayerDestroyedImage() {</a>
<span class="sourceLineNo">135</span><a id="line.135">                return playerDestroyedImage;</a>
<span class="sourceLineNo">136</span><a id="line.136">        }</a>
<span class="sourceLineNo">137</span><a id="line.137"></a>
<span class="sourceLineNo">138</span><a id="line.138">        /** Returns bullet sprite</a>
<span class="sourceLineNo">139</span><a id="line.139">        * @return Bullet sprite</a>
<span class="sourceLineNo">140</span><a id="line.140">        */</a>
<span class="sourceLineNo">141</span><a id="line.141">        public BufferedImage getBulletImage() {</a>
<span class="sourceLineNo">142</span><a id="line.142">                return bulletImage;</a>
<span class="sourceLineNo">143</span><a id="line.143">        }</a>
<span class="sourceLineNo">144</span><a id="line.144"></a>
<span class="sourceLineNo">145</span><a id="line.145">        /** Returns big asteroid sprite</a>
<span class="sourceLineNo">146</span><a id="line.146">        * @return Big asteroid sprite</a>
<span class="sourceLineNo">147</span><a id="line.147">        */</a>
<span class="sourceLineNo">148</span><a id="line.148">        public BufferedImage getBigAsteroidImage() {</a>
<span class="sourceLineNo">149</span><a id="line.149">                return bigAsteroidImage;</a>
<span class="sourceLineNo">150</span><a id="line.150">        }</a>
<span class="sourceLineNo">151</span><a id="line.151"></a>
<span class="sourceLineNo">152</span><a id="line.152">        /** Returns medium asteroid sprite</a>
<span class="sourceLineNo">153</span><a id="line.153">        * @return Medium asteroid sprite</a>
<span class="sourceLineNo">154</span><a id="line.154">        */</a>
<span class="sourceLineNo">155</span><a id="line.155">        public BufferedImage getMediumAsteroidImage() {</a>
<span class="sourceLineNo">156</span><a id="line.156">                return mediumAsteroidImage;</a>
<span class="sourceLineNo">157</span><a id="line.157">        }</a>
<span class="sourceLineNo">158</span><a id="line.158"></a>
<span class="sourceLineNo">159</span><a id="line.159">        /** Returns small asteroid sprite</a>
<span class="sourceLineNo">160</span><a id="line.160">        * @return Small asteroid sprite</a>
<span class="sourceLineNo">161</span><a id="line.161">        */</a>
<span class="sourceLineNo">162</span><a id="line.162">        public BufferedImage getSmallAsteroidImage() {</a>
<span class="sourceLineNo">163</span><a id="line.163">                return smallAsteroidImage;</a>
<span class="sourceLineNo">164</span><a id="line.164">        }</a>
<span class="sourceLineNo">165</span><a id="line.165"></a>
<span class="sourceLineNo">166</span><a id="line.166">        /** Returns asteroid destroy animation</a>
<span class="sourceLineNo">167</span><a id="line.167">        * @return Asteroid destroy animation</a>
<span class="sourceLineNo">168</span><a id="line.168">        */</a>
<span class="sourceLineNo">169</span><a id="line.169">        public Image getAsteroidDestroyedImage() {</a>
<span class="sourceLineNo">170</span><a id="line.170">                return asteroidDestroyedImage;</a>
<span class="sourceLineNo">171</span><a id="line.171">        }</a>
<span class="sourceLineNo">172</span><a id="line.172"></a>
<span class="sourceLineNo">173</span><a id="line.173">        /** Returns alien spaceship animation sprite</a>
<span class="sourceLineNo">174</span><a id="line.174">        * @return Alien spaceship animation</a>
<span class="sourceLineNo">175</span><a id="line.175">        */</a>
<span class="sourceLineNo">176</span><a id="line.176">        public Image getAlienAnimation() {</a>
<span class="sourceLineNo">177</span><a id="line.177">                return alienAnimation;</a>
<span class="sourceLineNo">178</span><a id="line.178">        }</a>
<span class="sourceLineNo">179</span><a id="line.179"></a>
<span class="sourceLineNo">180</span><a id="line.180">        /** Returns start button image</a>
<span class="sourceLineNo">181</span><a id="line.181">        * @return Start button image</a>
<span class="sourceLineNo">182</span><a id="line.182">        */</a>
<span class="sourceLineNo">183</span><a id="line.183">        public ImageIcon getStartButtonImage() {</a>
<span class="sourceLineNo">184</span><a id="line.184">                return startButtonImage;</a>
<span class="sourceLineNo">185</span><a id="line.185">        }</a>
<span class="sourceLineNo">186</span><a id="line.186"></a>
<span class="sourceLineNo">187</span><a id="line.187">        /** Returns exit button image</a>
<span class="sourceLineNo">188</span><a id="line.188">        * @return Exit button image</a>
<span class="sourceLineNo">189</span><a id="line.189">        */</a>
<span class="sourceLineNo">190</span><a id="line.190">        public ImageIcon getExitButtonImage() {</a>
<span class="sourceLineNo">191</span><a id="line.191">                return exitButtonImage;</a>
<span class="sourceLineNo">192</span><a id="line.192">        }</a>
<span class="sourceLineNo">193</span><a id="line.193"></a>
<span class="sourceLineNo">194</span><a id="line.194">        /** Gives game controller access to game frame</a>
<span class="sourceLineNo">195</span><a id="line.195">        * @param gameFrame Game frame generating game window</a>
<span class="sourceLineNo">196</span><a id="line.196">        */</a>
<span class="sourceLineNo">197</span><a id="line.197">        public void addGameFrame(GameFrame gameFrame) {</a>
<span class="sourceLineNo">198</span><a id="line.198">                this.gameFrame = gameFrame;</a>
<span class="sourceLineNo">199</span><a id="line.199">        }</a>
<span class="sourceLineNo">200</span><a id="line.200"></a>
<span class="sourceLineNo">201</span><a id="line.201">        /** Add a bullet to game when player shoots</a>
<span class="sourceLineNo">202</span><a id="line.202">        * @param bullet Bullet to be added</a>
<span class="sourceLineNo">203</span><a id="line.203">        */</a>
<span class="sourceLineNo">204</span><a id="line.204">        public void addBullet(Bullet bullet) {</a>
<span class="sourceLineNo">205</span><a id="line.205">                if (bullets.size() &lt; 10) {</a>
<span class="sourceLineNo">206</span><a id="line.206">                        bullets.add(bullet); // Limit number of bullets on screen to less than ten</a>
<span class="sourceLineNo">207</span><a id="line.207">                        Bullet[] newBullet = {bullet}; // Create an array to use game frame's add method</a>
<span class="sourceLineNo">208</span><a id="line.208">                        gameFrame.addToPanel(newBullet); // Add to game window</a>
<span class="sourceLineNo">209</span><a id="line.209">                }</a>
<span class="sourceLineNo">210</span><a id="line.210">        }</a>
<span class="sourceLineNo">211</span><a id="line.211"></a>
<span class="sourceLineNo">212</span><a id="line.212">        /** Add an alien bullet to game when alien shoots</a>
<span class="sourceLineNo">213</span><a id="line.213">        * @param bullet Bullet to be added</a>
<span class="sourceLineNo">214</span><a id="line.214">        */</a>
<span class="sourceLineNo">215</span><a id="line.215">        public void addAlienBullet(Bullet bullet) {</a>
<span class="sourceLineNo">216</span><a id="line.216">                alienBullets.add(bullet);</a>
<span class="sourceLineNo">217</span><a id="line.217">                Bullet[] newBullet = {bullet}; // Create an array to use game frame's add method</a>
<span class="sourceLineNo">218</span><a id="line.218">                gameFrame.addToPanel(newBullet); // Add to game window</a>
<span class="sourceLineNo">219</span><a id="line.219">        }</a>
<span class="sourceLineNo">220</span><a id="line.220"></a>
<span class="sourceLineNo">221</span><a id="line.221">        /** Add an alien spaceship to the game</a>
<span class="sourceLineNo">222</span><a id="line.222">        * @param alien Bullet to be added</a>
<span class="sourceLineNo">223</span><a id="line.223">        */</a>
<span class="sourceLineNo">224</span><a id="line.224">        public void addAlien(Alien alien) {</a>
<span class="sourceLineNo">225</span><a id="line.225">                aliens.add(alien);</a>
<span class="sourceLineNo">226</span><a id="line.226">                Alien[] newAlien = {alien}; // Create an array to use game frame's add method</a>
<span class="sourceLineNo">227</span><a id="line.227">                gameFrame.addToPanel(newAlien); // Add to game window           </a>
<span class="sourceLineNo">228</span><a id="line.228">        }</a>
<span class="sourceLineNo">229</span><a id="line.229"></a>
<span class="sourceLineNo">230</span><a id="line.230">        /** Remove a bullet from game when it is destroyed</a>
<span class="sourceLineNo">231</span><a id="line.231">        * @param bullet Bullet to be removed</a>
<span class="sourceLineNo">232</span><a id="line.232">        */</a>
<span class="sourceLineNo">233</span><a id="line.233">        public void removeBullet(Bullet bullet) {</a>
<span class="sourceLineNo">234</span><a id="line.234">                cleanup.add(bullet); // Add bullet to cleanup list</a>
<span class="sourceLineNo">235</span><a id="line.235">                gameFrame.removeFromPanel(bullet); // Remove bullet from game window</a>
<span class="sourceLineNo">236</span><a id="line.236">        }</a>
<span class="sourceLineNo">237</span><a id="line.237"></a>
<span class="sourceLineNo">238</span><a id="line.238">        /** Remove an asteroid from the game when it is destroyed</a>
<span class="sourceLineNo">239</span><a id="line.239">        * This method takes advantage of polymorphism to remove big, medium, and small asteroids</a>
<span class="sourceLineNo">240</span><a id="line.240">        * as both medium and small asteroids inherit from big asteroid class so can be treated</a>
<span class="sourceLineNo">241</span><a id="line.241">        * as the same data type</a>
<span class="sourceLineNo">242</span><a id="line.242">        * @param asteroid Asteroid to be removed</a>
<span class="sourceLineNo">243</span><a id="line.243">        */</a>
<span class="sourceLineNo">244</span><a id="line.244">        public void removeAsteroid(BigAsteroid asteroid) {</a>
<span class="sourceLineNo">245</span><a id="line.245">                cleanup.add(asteroid); // Add bullet to cleanup list</a>
<span class="sourceLineNo">246</span><a id="line.246">                gameFrame.removeFromPanel(asteroid); // Remove bullet from game window</a>
<span class="sourceLineNo">247</span><a id="line.247">        }</a>
<span class="sourceLineNo">248</span><a id="line.248"></a>
<span class="sourceLineNo">249</span><a id="line.249">        /** Add multiple asteroids to game</a>
<span class="sourceLineNo">250</span><a id="line.250">        * This method takes advantage of polymorphism to add big, medium, and small asteroids</a>
<span class="sourceLineNo">251</span><a id="line.251">        * as both medium and small asteroids inherit from big asteroid class so can be treated</a>
<span class="sourceLineNo">252</span><a id="line.252">        * as the same data type</a>
<span class="sourceLineNo">253</span><a id="line.253">        * @param asteroidsToAdd Array of asterodis to be added</a>
<span class="sourceLineNo">254</span><a id="line.254">        */</a>
<span class="sourceLineNo">255</span><a id="line.255">        public void addAsteroids(BigAsteroid[] asteroidsToAdd) {</a>
<span class="sourceLineNo">256</span><a id="line.256">                for (BigAsteroid asteroid : asteroidsToAdd) {</a>
<span class="sourceLineNo">257</span><a id="line.257">                        // Add each new asteroid to asteroids waiting to be added next frame</a>
<span class="sourceLineNo">258</span><a id="line.258">                        newAsteroids.add(asteroid); </a>
<span class="sourceLineNo">259</span><a id="line.259">                }</a>
<span class="sourceLineNo">260</span><a id="line.260">                gameFrame.addToPanel(asteroidsToAdd); // Add new asteroids to game window</a>
<span class="sourceLineNo">261</span><a id="line.261">        }</a>
<span class="sourceLineNo">262</span><a id="line.262"></a>
<span class="sourceLineNo">263</span><a id="line.263">        /** Add player to game window</a>
<span class="sourceLineNo">264</span><a id="line.264">        * @param player Player object to be added</a>
<span class="sourceLineNo">265</span><a id="line.265">        */</a>
<span class="sourceLineNo">266</span><a id="line.266">        public void addPlayer(Player player) {</a>
<span class="sourceLineNo">267</span><a id="line.267">                this.player = player; // Set instance variable to player</a>
<span class="sourceLineNo">268</span><a id="line.268">                Player[] playerArray = {player}; // Create an array to use game frame add method</a>
<span class="sourceLineNo">269</span><a id="line.269">                gameFrame.addToPanel(playerArray); // Add player to panel</a>
<span class="sourceLineNo">270</span><a id="line.270">        }</a>
<span class="sourceLineNo">271</span><a id="line.271"></a>
<span class="sourceLineNo">272</span><a id="line.272">        /** Remove a player from the screen when ship is destroyed</a>
<span class="sourceLineNo">273</span><a id="line.273">        */</a>
<span class="sourceLineNo">274</span><a id="line.274">        public void removePlayer() {</a>
<span class="sourceLineNo">275</span><a id="line.275">                gameFrame.removeFromPanel(player); // Remove player from game window</a>
<span class="sourceLineNo">276</span><a id="line.276">        }</a>
<span class="sourceLineNo">277</span><a id="line.277"></a>
<span class="sourceLineNo">278</span><a id="line.278">        public void removeAlien(Alien alien) {</a>
<span class="sourceLineNo">279</span><a id="line.279">                cleanup.add(alien);</a>
<span class="sourceLineNo">280</span><a id="line.280">                gameFrame.removeFromPanel(alien);</a>
<span class="sourceLineNo">281</span><a id="line.281">        }</a>
<span class="sourceLineNo">282</span><a id="line.282"></a>
<span class="sourceLineNo">283</span><a id="line.283">        public Player getPlayer() {</a>
<span class="sourceLineNo">284</span><a id="line.284">                return player;</a>
<span class="sourceLineNo">285</span><a id="line.285">        }</a>
<span class="sourceLineNo">286</span><a id="line.286"></a>
<span class="sourceLineNo">287</span><a id="line.287">        /** Start timer to control game from frame to frame</a>
<span class="sourceLineNo">288</span><a id="line.288">        */</a>
<span class="sourceLineNo">289</span><a id="line.289">        public void startGameTimer() {</a>
<span class="sourceLineNo">290</span><a id="line.290">                gameTimer = new Timer(); // Create new timer and task</a>
<span class="sourceLineNo">291</span><a id="line.291">                TimerTask tick = new TimerTask() { </a>
<span class="sourceLineNo">292</span><a id="line.292">                        @Override</a>
<span class="sourceLineNo">293</span><a id="line.293">                        public void run() {</a>
<span class="sourceLineNo">294</span><a id="line.294">                                // Ensure changes are made at start of next frame</a>
<span class="sourceLineNo">295</span><a id="line.295">                                SwingUtilities.invokeLater(new Runnable() {</a>
<span class="sourceLineNo">296</span><a id="line.296">                                        public void run() {</a>
<span class="sourceLineNo">297</span><a id="line.297">                                                player.tick(); // Update player</a>
<span class="sourceLineNo">298</span><a id="line.298">                                                for (Bullet alienBullet : alienBullets) {</a>
<span class="sourceLineNo">299</span><a id="line.299">                                                        alienBullet.tick();</a>
<span class="sourceLineNo">300</span><a id="line.300">                                                        if (alienBullet.isCollidingWith(player)) {</a>
<span class="sourceLineNo">301</span><a id="line.301">                                                                // Act only if both are enabled and player is vulnerable</a>
<span class="sourceLineNo">302</span><a id="line.302">                                                                if (alienBullet.isEnabled() &amp;&amp; !player.isInvulnerable() &amp;&amp; player.isEnabled()) {</a>
<span class="sourceLineNo">303</span><a id="line.303">                                                                        alienBullet.destroy(); // Bullet is always destroyed</a>
<span class="sourceLineNo">304</span><a id="line.304">                                                                        </a>
<span class="sourceLineNo">305</span><a id="line.305">                                                                        // Decrement lives and check if any remain</a>
<span class="sourceLineNo">306</span><a id="line.306">                                                                        if (--lives &gt; 0) {</a>
<span class="sourceLineNo">307</span><a id="line.307">                                                                                player.respawn(); // Respawn if lives remain</a>
<span class="sourceLineNo">308</span><a id="line.308">                                                                        } else {</a>
<span class="sourceLineNo">309</span><a id="line.309">                                                                                player.destroy(); // Destroy if out of lives</a>
<span class="sourceLineNo">310</span><a id="line.310">                                                                                endGame(); // Start game ending procedures</a>
<span class="sourceLineNo">311</span><a id="line.311">                                                                        }</a>
<span class="sourceLineNo">312</span><a id="line.312">                                                                        gameFrame.updateLives(lives); // Update HUD</a>
<span class="sourceLineNo">313</span><a id="line.313">                                                                }</a>
<span class="sourceLineNo">314</span><a id="line.314">                                                        }</a>
<span class="sourceLineNo">315</span><a id="line.315">                                                }</a>
<span class="sourceLineNo">316</span><a id="line.316">                                                for (Bullet bullet : bullets) {</a>
<span class="sourceLineNo">317</span><a id="line.317">                                                        bullet.tick(); // Update each bullet</a>
<span class="sourceLineNo">318</span><a id="line.318">                                                        for (BigAsteroid asteroid : asteroids) {</a>
<span class="sourceLineNo">319</span><a id="line.319">                                                                // Check collisions between all bullets and asteroids</a>
<span class="sourceLineNo">320</span><a id="line.320">                                                                if (bullet.isCollidingWith(asteroid)) {</a>
<span class="sourceLineNo">321</span><a id="line.321">                                                                        // Act only if bullet is enabled</a>
<span class="sourceLineNo">322</span><a id="line.322">                                                                        if (bullet.isEnabled()) {</a>
<span class="sourceLineNo">323</span><a id="line.323">                                                                                bullet.destroy(); // Collsions between two enabled objects of different types always destroy both</a>
<span class="sourceLineNo">324</span><a id="line.324">                                                                                asteroid.destroy();</a>
<span class="sourceLineNo">325</span><a id="line.325">                                                                                if (!gameOver) {</a>
<span class="sourceLineNo">326</span><a id="line.326">                                                                                        gameFrame.updateScore(++score); // Only update score if game is active</a>
<span class="sourceLineNo">327</span><a id="line.327">                                                                                }</a>
<span class="sourceLineNo">328</span><a id="line.328">                                                                        }</a>
<span class="sourceLineNo">329</span><a id="line.329">                                                                }</a>
<span class="sourceLineNo">330</span><a id="line.330">                                                        }</a>
<span class="sourceLineNo">331</span><a id="line.331">                                                        for (Alien alien : aliens) {</a>
<span class="sourceLineNo">332</span><a id="line.332">                                                                // Check collisions between all bullets and aliens</a>
<span class="sourceLineNo">333</span><a id="line.333">                                                                if (bullet.isCollidingWith(alien)) {</a>
<span class="sourceLineNo">334</span><a id="line.334">                                                                        // Act only if bullet is enabled</a>
<span class="sourceLineNo">335</span><a id="line.335">                                                                        if (bullet.isEnabled() &amp;&amp; alien.isEnabled()) {</a>
<span class="sourceLineNo">336</span><a id="line.336">                                                                                bullet.destroy(); // Collsions between two enabled objects of different types always destroy both</a>
<span class="sourceLineNo">337</span><a id="line.337">                                                                                alien.destroy();</a>
<span class="sourceLineNo">338</span><a id="line.338">                                                                                if (!gameOver) {</a>
<span class="sourceLineNo">339</span><a id="line.339">                                                                                        score += 5;</a>
<span class="sourceLineNo">340</span><a id="line.340">                                                                                        gameFrame.updateScore(score); // Only update score if game is active</a>
<span class="sourceLineNo">341</span><a id="line.341">                                                                                }</a>
<span class="sourceLineNo">342</span><a id="line.342">                                                                        }</a>
<span class="sourceLineNo">343</span><a id="line.343">                                                                }</a>
<span class="sourceLineNo">344</span><a id="line.344">                                                        }</a>
<span class="sourceLineNo">345</span><a id="line.345">                                                        // Check if player has shot themself</a>
<span class="sourceLineNo">346</span><a id="line.346">                                                        if (bullet.isCollidingWith(player)) {</a>
<span class="sourceLineNo">347</span><a id="line.347">                                                                        // Act only if both are enabled and player is vulnerable</a>
<span class="sourceLineNo">348</span><a id="line.348">                                                                        if (bullet.isEnabled() &amp;&amp; !player.isInvulnerable() &amp;&amp; player.isEnabled()) {</a>
<span class="sourceLineNo">349</span><a id="line.349">                                                                                bullet.destroy(); // Bullet is always destroyed</a>
<span class="sourceLineNo">350</span><a id="line.350">                                                                                </a>
<span class="sourceLineNo">351</span><a id="line.351">                                                                                // Decrement lives and check if any remain</a>
<span class="sourceLineNo">352</span><a id="line.352">                                                                                if (--lives &gt; 0) {</a>
<span class="sourceLineNo">353</span><a id="line.353">                                                                                        player.respawn(); // Respawn if lives remain</a>
<span class="sourceLineNo">354</span><a id="line.354">                                                                                } else {</a>
<span class="sourceLineNo">355</span><a id="line.355">                                                                                        player.destroy(); // Destroy if out of lives</a>
<span class="sourceLineNo">356</span><a id="line.356">                                                                                        endGame(); // Start game ending procedures</a>
<span class="sourceLineNo">357</span><a id="line.357">                                                                                }</a>
<span class="sourceLineNo">358</span><a id="line.358">                                                                                gameFrame.updateLives(lives); // Update HUD</a>
<span class="sourceLineNo">359</span><a id="line.359">                                                                        }</a>
<span class="sourceLineNo">360</span><a id="line.360">                                                                }</a>
<span class="sourceLineNo">361</span><a id="line.361">                                                }</a>
<span class="sourceLineNo">362</span><a id="line.362">                                                for (BigAsteroid asteroid : asteroids) {</a>
<span class="sourceLineNo">363</span><a id="line.363">                                                        asteroid.tick(); // Update each asteroid</a>
<span class="sourceLineNo">364</span><a id="line.364">                                                        // Check all asteroid/player collisions</a>
<span class="sourceLineNo">365</span><a id="line.365">                                                        if (asteroid.isCollidingWith(player)) {</a>
<span class="sourceLineNo">366</span><a id="line.366">                                                                // Act only if both are enabled and player is vulnerable</a>
<span class="sourceLineNo">367</span><a id="line.367">                                                                if (player.isEnabled() &amp;&amp; !player.isInvulnerable() &amp;&amp; asteroid.isEnabled()){</a>
<span class="sourceLineNo">368</span><a id="line.368">                                                                        asteroid.destroy(); // Asteroid is always destroyed</a>
<span class="sourceLineNo">369</span><a id="line.369"></a>
<span class="sourceLineNo">370</span><a id="line.370">                                                                        // Decrement lives and check if any remain</a>
<span class="sourceLineNo">371</span><a id="line.371">                                                                        if (--lives &gt; 0) {</a>
<span class="sourceLineNo">372</span><a id="line.372">                                                                                player.respawn(); // Respawn if lives remain</a>
<span class="sourceLineNo">373</span><a id="line.373">                                                                        } else {</a>
<span class="sourceLineNo">374</span><a id="line.374">                                                                                player.destroy(); // Destroy if player is a scrub</a>
<span class="sourceLineNo">375</span><a id="line.375">                                                                                endGame(); // Start game ending procedures</a>
<span class="sourceLineNo">376</span><a id="line.376">                                                                        }</a>
<span class="sourceLineNo">377</span><a id="line.377">                                                                        gameFrame.updateLives(lives); // Update HUD</a>
<span class="sourceLineNo">378</span><a id="line.378">                                                                }</a>
<span class="sourceLineNo">379</span><a id="line.379">                                                        }</a>
<span class="sourceLineNo">380</span><a id="line.380">                                                }</a>
<span class="sourceLineNo">381</span><a id="line.381"></a>
<span class="sourceLineNo">382</span><a id="line.382">                                                for (Alien alien : aliens) {</a>
<span class="sourceLineNo">383</span><a id="line.383">                                                        alien.tick();</a>
<span class="sourceLineNo">384</span><a id="line.384">                                                        if (alien.isCollidingWith(player)) {</a>
<span class="sourceLineNo">385</span><a id="line.385">                                                                if (player.isEnabled() &amp;&amp; !player.isInvulnerable() &amp;&amp; alien.isEnabled()) {</a>
<span class="sourceLineNo">386</span><a id="line.386">                                                                        alien.destroy();</a>
<span class="sourceLineNo">387</span><a id="line.387"></a>
<span class="sourceLineNo">388</span><a id="line.388">                                                                        if (--lives &gt; 0) {</a>
<span class="sourceLineNo">389</span><a id="line.389">                                                                                player.respawn();</a>
<span class="sourceLineNo">390</span><a id="line.390">                                                                        } else {</a>
<span class="sourceLineNo">391</span><a id="line.391">                                                                                player.destroy();</a>
<span class="sourceLineNo">392</span><a id="line.392">                                                                                endGame();</a>
<span class="sourceLineNo">393</span><a id="line.393">                                                                        }</a>
<span class="sourceLineNo">394</span><a id="line.394">                                                                        gameFrame.updateLives(lives);</a>
<span class="sourceLineNo">395</span><a id="line.395">                                                                }</a>
<span class="sourceLineNo">396</span><a id="line.396">                                                        }</a>
<span class="sourceLineNo">397</span><a id="line.397">                                                }</a>
<span class="sourceLineNo">398</span><a id="line.398">                                                // Cleanup all objects deactivated since last frame update</a>
<span class="sourceLineNo">399</span><a id="line.399">                                                for (GamePiece piece : cleanup) {</a>
<span class="sourceLineNo">400</span><a id="line.400">                                                        bullets.remove(piece); // Remove all bullets</a>
<span class="sourceLineNo">401</span><a id="line.401">                                                        asteroids.remove(piece); // Remove all asteroids</a>
<span class="sourceLineNo">402</span><a id="line.402">                                                        aliens.remove(piece);</a>
<span class="sourceLineNo">403</span><a id="line.403">                                                        alienBullets.remove(piece);</a>
<span class="sourceLineNo">404</span><a id="line.404">                                                }</a>
<span class="sourceLineNo">405</span><a id="line.405">                                                // Add all new asteroids created since last frame update</a>
<span class="sourceLineNo">406</span><a id="line.406">                                                for (BigAsteroid asteroid : newAsteroids) {</a>
<span class="sourceLineNo">407</span><a id="line.407">                                                        asteroids.add(asteroid); // Add asteroids to active arraylist</a>
<span class="sourceLineNo">408</span><a id="line.408">                                                }</a>
<span class="sourceLineNo">409</span><a id="line.409">                                                cleanup.clear(); // Clear cleanup list after updating</a>
<span class="sourceLineNo">410</span><a id="line.410">                                                newAsteroids.clear(); // Clear new asteroid list to prevent duplication</a>
<span class="sourceLineNo">411</span><a id="line.411">                                        }</a>
<span class="sourceLineNo">412</span><a id="line.412">                                });</a>
<span class="sourceLineNo">413</span><a id="line.413">                        }</a>
<span class="sourceLineNo">414</span><a id="line.414">                };</a>
<span class="sourceLineNo">415</span><a id="line.415"></a>
<span class="sourceLineNo">416</span><a id="line.416">                gameTimer.scheduleAtFixedRate(tick, 33, 33); // Set game timer to run at about thirty frames/second</a>
<span class="sourceLineNo">417</span><a id="line.417">        }</a>
<span class="sourceLineNo">418</span><a id="line.418"></a>
<span class="sourceLineNo">419</span><a id="line.419">        /** Starts timer that adds new asteroids to game periodically</a>
<span class="sourceLineNo">420</span><a id="line.420">        */</a>
<span class="sourceLineNo">421</span><a id="line.421">        public void startAsteroidTimer() {</a>
<span class="sourceLineNo">422</span><a id="line.422">                // Create listener to respond to timer pings</a>
<span class="sourceLineNo">423</span><a id="line.423">                ActionListener makeAsteroid = new ActionListener() {</a>
<span class="sourceLineNo">424</span><a id="line.424">                        @Override</a>
<span class="sourceLineNo">425</span><a id="line.425">                        public void actionPerformed(ActionEvent e) {</a>
<span class="sourceLineNo">426</span><a id="line.426">                                // Create new asteroid object to be added to game</a>
<span class="sourceLineNo">427</span><a id="line.427">                                BigAsteroid asteroidToAdd = new BigAsteroid(Math.random() * Asteroids.CANVAS_WIDTH, Math.random() * Asteroids.CANVAS_HEIGHT);</a>
<span class="sourceLineNo">428</span><a id="line.428">                                //Ensure asteroid will not spawn too close to player</a>
<span class="sourceLineNo">429</span><a id="line.429">                                if (asteroidToAdd.distanceTo(player) &gt; 100) {</a>
<span class="sourceLineNo">430</span><a id="line.430">                                        BigAsteroid[] toAdd = {asteroidToAdd}; // Add to array to work with method to add asteroids</a>
<span class="sourceLineNo">431</span><a id="line.431">                                        addAsteroids(toAdd); // Add asteroid to game</a>
<span class="sourceLineNo">432</span><a id="line.432">                                }</a>
<span class="sourceLineNo">433</span><a id="line.433">                        }</a>
<span class="sourceLineNo">434</span><a id="line.434">                };</a>
<span class="sourceLineNo">435</span><a id="line.435">                asteroidTimer = new javax.swing.Timer(10000, makeAsteroid); // Make asteroids about every ten seconds</a>
<span class="sourceLineNo">436</span><a id="line.436">                asteroidTimer.setRepeats(true); // Timer should repeat until game ends</a>
<span class="sourceLineNo">437</span><a id="line.437">                asteroidTimer.start(); // Start timer</a>
<span class="sourceLineNo">438</span><a id="line.438">        }</a>
<span class="sourceLineNo">439</span><a id="line.439"></a>
<span class="sourceLineNo">440</span><a id="line.440">        public void startAlienTimer() {</a>
<span class="sourceLineNo">441</span><a id="line.441">                ActionListener makeAlien = new ActionListener() {</a>
<span class="sourceLineNo">442</span><a id="line.442">                        @Override</a>
<span class="sourceLineNo">443</span><a id="line.443">                        public void actionPerformed(ActionEvent e) {</a>
<span class="sourceLineNo">444</span><a id="line.444">                                //Alien newAlien = new Alien(100, Asteroids.CANVAS_HEIGHT / 2 - 50);</a>
<span class="sourceLineNo">445</span><a id="line.445">                                if (aliens.isEmpty()) {</a>
<span class="sourceLineNo">446</span><a id="line.446">                                        addAlien(new Alien(100, Asteroids.CANVAS_HEIGHT / 2 - 50));</a>
<span class="sourceLineNo">447</span><a id="line.447">                                }</a>
<span class="sourceLineNo">448</span><a id="line.448">                        }</a>
<span class="sourceLineNo">449</span><a id="line.449">                };</a>
<span class="sourceLineNo">450</span><a id="line.450"></a>
<span class="sourceLineNo">451</span><a id="line.451">                alienTimer = new javax.swing.Timer(5000, makeAlien);</a>
<span class="sourceLineNo">452</span><a id="line.452">                alienTimer.setRepeats(true);</a>
<span class="sourceLineNo">453</span><a id="line.453">                alienTimer.start();</a>
<span class="sourceLineNo">454</span><a id="line.454">        }</a>
<span class="sourceLineNo">455</span><a id="line.455"></a>
<span class="sourceLineNo">456</span><a id="line.456">        /** Tells window to set up game window and sets up all game pieces</a>
<span class="sourceLineNo">457</span><a id="line.457">        */</a>
<span class="sourceLineNo">458</span><a id="line.458">        public void startGame() {</a>
<span class="sourceLineNo">459</span><a id="line.459">                lives = 3; // Reset lives and score</a>
<span class="sourceLineNo">460</span><a id="line.460">                score = 0;</a>
<span class="sourceLineNo">461</span><a id="line.461">                gameOver = false; // Not dead yet</a>
<span class="sourceLineNo">462</span><a id="line.462">                gameFrame.clearMenu(); // Tell window to flush all information from menu window</a>
<span class="sourceLineNo">463</span><a id="line.463">                gameFrame.startGame(); // Tell window to set up game window</a>
<span class="sourceLineNo">464</span><a id="line.464">                startGameTimer(); // Start game timer</a>
<span class="sourceLineNo">465</span><a id="line.465">                startAsteroidTimer(); // Start timer to add asteroids</a>
<span class="sourceLineNo">466</span><a id="line.466">                startAlienTimer();</a>
<span class="sourceLineNo">467</span><a id="line.467">                addPlayer(new Player(Asteroids.CANVAS_WIDTH / 2, Asteroids.CANVAS_HEIGHT / 2)); // Add player ship to game</a>
<span class="sourceLineNo">468</span><a id="line.468">                BigAsteroid[] startAsteroids = new BigAsteroid[3]; // Add three asteroids at random locations to start off</a>
<span class="sourceLineNo">469</span><a id="line.469">                for (int i = 0; i &lt; 3; i++) {</a>
<span class="sourceLineNo">470</span><a id="line.470">                        startAsteroids[i] = new BigAsteroid(Math.random() * Asteroids.CANVAS_WIDTH, Math.random() * Asteroids.CANVAS_HEIGHT);</a>
<span class="sourceLineNo">471</span><a id="line.471">                }</a>
<span class="sourceLineNo">472</span><a id="line.472">                addAsteroids(startAsteroids); // Add asteroids to game window</a>
<span class="sourceLineNo">473</span><a id="line.473">        }</a>
<span class="sourceLineNo">474</span><a id="line.474"></a>
<span class="sourceLineNo">475</span><a id="line.475">        /** Execute ending game procedures</a>
<span class="sourceLineNo">476</span><a id="line.476">        */</a>
<span class="sourceLineNo">477</span><a id="line.477">        public void endGame() {</a>
<span class="sourceLineNo">478</span><a id="line.478">                asteroidTimer.stop(); // Stop adding new asteroids</a>
<span class="sourceLineNo">479</span><a id="line.479">                alienTimer.stop();</a>
<span class="sourceLineNo">480</span><a id="line.480">                GameOverMessage[] message = {new GameOverMessage(Asteroids.CANVAS_WIDTH / 2, Asteroids.CANVAS_HEIGHT / 2, score)}; // Display game over message</a>
<span class="sourceLineNo">481</span><a id="line.481">                gameFrame.addToPanel(message); // Add message to game window</a>
<span class="sourceLineNo">482</span><a id="line.482">                // Return to menu after delay</a>
<span class="sourceLineNo">483</span><a id="line.483">                ActionListener close = new ActionListener() {</a>
<span class="sourceLineNo">484</span><a id="line.484">                        @Override</a>
<span class="sourceLineNo">485</span><a id="line.485">                        public void actionPerformed(ActionEvent e) {</a>
<span class="sourceLineNo">486</span><a id="line.486">                                returnToMenu(); // Return to menu</a>
<span class="sourceLineNo">487</span><a id="line.487">                        }</a>
<span class="sourceLineNo">488</span><a id="line.488">                };</a>
<span class="sourceLineNo">489</span><a id="line.489">                javax.swing.Timer delay = new javax.swing.Timer(5000, close); // Timer to display game over message for five seconds to allow player to reflect upon what lead them to this moment</a>
<span class="sourceLineNo">490</span><a id="line.490">                delay.setRepeats(false); // Timer should not repeat</a>
<span class="sourceLineNo">491</span><a id="line.491">                delay.start(); // Start of delay</a>
<span class="sourceLineNo">492</span><a id="line.492">                gameOver = true; // Game is over</a>
<span class="sourceLineNo">493</span><a id="line.493">        }</a>
<span class="sourceLineNo">494</span><a id="line.494"></a>
<span class="sourceLineNo">495</span><a id="line.495">        /** Tells game window to set up menu and updates highscore</a>
<span class="sourceLineNo">496</span><a id="line.496">        */</a>
<span class="sourceLineNo">497</span><a id="line.497">        public void returnToMenu() {</a>
<span class="sourceLineNo">498</span><a id="line.498">                if (score &gt; highscore) {</a>
<span class="sourceLineNo">499</span><a id="line.499">                        highscore = score; // Update highscore if beat by player</a>
<span class="sourceLineNo">500</span><a id="line.500">                }</a>
<span class="sourceLineNo">501</span><a id="line.501">                gameTimer.cancel(); // Cancel timer updating every frame</a>
<span class="sourceLineNo">502</span><a id="line.502">                asteroids.clear();</a>
<span class="sourceLineNo">503</span><a id="line.503">                bullets.clear();</a>
<span class="sourceLineNo">504</span><a id="line.504">                aliens.clear();</a>
<span class="sourceLineNo">505</span><a id="line.505">                alienBullets.clear();</a>
<span class="sourceLineNo">506</span><a id="line.506">                gameFrame.clearGame(); // Clear the game window</a>
<span class="sourceLineNo">507</span><a id="line.507">                gameFrame.goToMenu(highscore); // Return to the menu, maybe with a new highscore</a>
<span class="sourceLineNo">508</span><a id="line.508">        }</a>
<span class="sourceLineNo">509</span><a id="line.509"></a>
<span class="sourceLineNo">510</span><a id="line.510">        /** Execute exit game procedures</a>
<span class="sourceLineNo">511</span><a id="line.511">        * This method involves text-file output</a>
<span class="sourceLineNo">512</span><a id="line.512">        */</a>
<span class="sourceLineNo">513</span><a id="line.513">        public void exitGame() {</a>
<span class="sourceLineNo">514</span><a id="line.514">                // Try writing highscore to output file</a>
<span class="sourceLineNo">515</span><a id="line.515">                try {</a>
<span class="sourceLineNo">516</span><a id="line.516">                        PrintWriter out = new PrintWriter(new File("highscore.txt")); // Printwriter to record highscore</a>
<span class="sourceLineNo">517</span><a id="line.517">                        out.println(highscore); </a>
<span class="sourceLineNo">518</span><a id="line.518">                        out.close(); // Close file output</a>
<span class="sourceLineNo">519</span><a id="line.519">                }</a>
<span class="sourceLineNo">520</span><a id="line.520">                catch (IOException e) {</a>
<span class="sourceLineNo">521</span><a id="line.521">                        System.out.println("Error Saving Highscore: " + e.getMessage()); // Inform user of failure to record high scores</a>
<span class="sourceLineNo">522</span><a id="line.522">                }</a>
<span class="sourceLineNo">523</span><a id="line.523"></a>
<span class="sourceLineNo">524</span><a id="line.524">                System.exit(0); // Close application</a>
<span class="sourceLineNo">525</span><a id="line.525">        }</a>
<span class="sourceLineNo">526</span><a id="line.526"></a>
<span class="sourceLineNo">527</span><a id="line.527">}</a>




























































</pre>
</div>
</main>
</body>
</html>
